# π’¬ λ°μΌλ¦¬ μ¤ν¬λΌ π’¬
- JWT, OAuth λ³µμµ
- 3μ£Όμ°¨ κ³Όμ  μ‹μ‘
***
# π§‘π»β€π’» ν•™μµν• λ‚΄μ© π§‘π»β€π’»
### μ •λ¦¬ ν‚¤μ›λ“

# HTTP μκ²©μ¦λ… ν—¤λ”

> HTTP μκ²©μ¦λ… ν—¤λ” : ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„κ°„μ μΈμ¦κ³Όμ •μ—μ„ μ¬λ°”λ¥Έ μ‚¬μ©μμΈμ§€ ν™•μΈν•κΈ° μ„ν•΄ μ‚¬μ©λλ” ν—¤λ”
> 

---

HTTP μκ²©μ¦λ… ν—¤λ”λ” ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„κ°„μ μΈμ¦κ³Όμ •μ—μ„ μ”μ²­ μ μ €κ°€ μ¬λ°”λ¥Έ μ‚¬μ©μμΈμ§€ ν™•μΈν•κΈ° μ„ν•΄ μ‚¬μ©λλ” ν—¤λ”μ…λ‹λ‹¤.

μ΄λ¥Ό μ΄μ©ν•μ—¬ μΈκ°€κ°€ ν•„μ”ν• μμ›μ— μ ‘κ·Όμ‹ μ¬λ°”λ¥Έ μ‚¬μ©μμΈμ§€ νμ•…ν•κ² λ©λ‹λ‹¤.

ν—¤λ”λ” μ•„λ λ‘κ°€μ§€κ°€ μ‚¬μ©λ©λ‹λ‹¤.

### WWW-Authenticate ν—¤λ”

---

μ΄ ν—¤λ”λ” μ„λ²„κ°€ ν΄λΌμ΄μ–ΈνΈμ—κ² ν„μ¬ μΈμ¦μ΄ ν•„μ”ν•λ‹¤κ³  μ•λ¦΄λ• μ‚¬μ©ν•λ” ν—¤λ”μ…λ‹λ‹¤.

μ¦‰, μ ‘κ·Ό κ¶ν•μ„ μ”κµ¬ν•λ” κ²½μ° μ‚¬μ©λ©λ‹λ‹¤.

ν•΄λ‹Ή ν—¤λ”λ” λ‹¤μκ³Ό κ°™μ΄ μ‚¬μ©λ©λ‹λ‹¤.

> ν΄λΌμ΄μ–ΈνΈκ°€ λ³΄νΈλ λ¦¬μ†μ¤μ— μ ‘κ·Όμ„ μ”μ²­ν•  λ•, μ„λ²„λ” `401 Unauthorized` μ‘λ‹µκ³Ό `WWW-Authenticate` ν—¤λ”λ¥Ό ν•¨κ» μ „μ†΅ν•΄λ‹¬λΌκ³  ν•©λ‹λ‹¤.
> 

### Authorization ν—¤λ”

---

μ΄ ν—¤λ”λ” ν΄λΌμ΄μ–ΈνΈκ°€ μ„λ²„μ— μμ‹ μ„ μΈμ¦ν•λ ¤ ν•  λ• μ‚¬μ©λλ” ν—¤λ”μ…λ‹λ‹¤.

ν•΄λ‹Ή ν—¤λ”λ” λ‹¤μκ³Ό κ°™μ΄ μ‚¬μ©λ©λ‹λ‹¤.

> `WWW-Authentication` μ— μ”κµ¬λ μΈμ¦λ°©μ‹μ— λ”°λΌ μΈμ¦ μ •λ³΄λ¥Ό `Authorization` ν—¤λ”μ— ν¬ν•¨ν•΄ μ „μ†΅ν•©λ‹λ‹¤.
> 

# Bearer Token

> Bearer Token : μ„λ²„μ— λ³΄λ‚΄ μ”μ²­μ£Όμ²΄μ μ‹ μ›μ„ μΈμ¦ν•  λ• μ‚¬μ©ν•λ” ν† ν°μ…λ‹λ‹¤.
> 

---

μΈμ¦ μ „λ°μ μΌλ΅ μ‚¬μ©λλ” ν† ν°μ…λ‹λ‹¤.

μ΄ κ°λ…μ€ β€μ΄ ν† ν°μ„ κ°€μ§„ μ(Bearer)λ” μΈμ¦λ μ‚¬μ©μλ΅ κ°„μ£Όν•λ‹¤β€λ¥Ό κΈ°λ°μΌλ΅ ν•©λ‹λ‹¤.

λ”°λΌμ„, μ΄ ν† ν°μ„ μ„λ²„μ— λ³΄λ‚΄ μ”μ²­μ£Όμ²΄μ μ‹ μ›μ„ μΈμ¦ν•κ² λ©λ‹λ‹¤.

# JSON Web Token (JWT)

> JWT : JSON κΈ°λ°μ μΈμ¦μ‹ μ‚¬μ©λλ” ν† ν°
> 

---

JWTλ” JSONμ„ κΈ°λ°μΌλ΅ ν• ν† ν° μΈμ¦λ°©μ‹ κΈ°μ μ…λ‹λ‹¤.

μ„λ²„μ μ²« μ‘λ‹µμ‹ μΈμ¦λ μ μ €μ—κ² ν† ν°μ„ λ°κΈ‰ν•΄μ£Όκ² λλ”λ°μ”. ν΄λΌμ΄μ–ΈνΈλ” μ΄λ¥Ό μ΄μ©ν•μ—¬ λ‹¤μ μ”μ²­λ¶€ν„° μ„Έμ…μ—†μ΄λ„ μμ‹ μ„ μΈμ¦ν•  μ μκ² λ©λ‹λ‹¤.

### JWT κµ¬μ΅° (Header, Payload, Signature)

---

JWTλ” 3κ°€μ§€ κµ¬μ΅°λ΅ μ΄λ£¨μ–΄μ Έ μμµλ‹λ‹¤.

![image.png](attachment:da87dfa2-f441-4a43-b9ca-59b759af8a36:image.png)

### Header

> JWTμ ν—¤λ”μ—λ” ν† ν°μ νƒ€μ… λ° μ„λ… μ•κ³ λ¦¬μ¦ μ •λ³΄κ°€ λ“¤μ–΄μμµλ‹λ‹¤.
> 

### Payload

> JWT Payloadλ” μ‚¬μ©μ μ •λ³΄(ν΄λ μ„)μ„ ν¬ν•¨ν•λ” μμ—­μ…λ‹λ‹¤.
> 

### Signature

> JWT Signatureλ” λ°μ΄ν„° μ„λ³€μ΅°λ¥Ό λ°©μ§€ν•κΈ° μ„ν• μ„λ… λ¶€λ¶„μ…λ‹λ‹¤.
> 

---

### JWT μ„λ… λ° μ•”νΈν™” (HMAC, RSA, ECDSA)

---

JWTλ” λ°μ΄ν„°μ μ„λ³€μ΅°λ¥Ό λ°©μ§€ν•κΈ°μ„ν•΄ μ„λ…μ„ μ§„ν–‰ν•©λ‹λ‹¤. λν• λ―Όκ°ν• λ°μ΄ν„°μ κ²½μ° Payloadμ μ•”νΈν™”λν• μ§„ν–‰ν•κ² λ©λ‹λ‹¤.

μ„λ…μ‹ μ‚¬μ©ν•λ” μ•κ³ λ¦¬μ¦μΌλ΅λ” `HMAC`, `RSA`, `ECDSA`κ°€ μμΌλ©° μ΄λ¥Ό μ΄μ©ν•μ—¬ JWTμ λ¬΄κ²°μ„±μ„ λ³΄μ¥ν•κ² λ©λ‹λ‹¤.

μ μ‹ μ„λ…κ³Ό μ•”νΈν™”μ μ°¨μ΄λ¥Ό μ•μ•„λ³΄κ³  κ°€κ² μµλ‹λ‹¤.

> **μ„λ…**

μ„λ…μ€ λ°μ΄ν„°κ°€ λ³€μ΅°λμ§€ μ•μμ„ λ³΄μ¥ν•λ” κ°λ…μ…λ‹λ‹¤. β†’ λ„κµ¬λ‚ λ³Ό μ μμµλ‹λ‹¤.
> 

> **μ•”νΈν™”**

μ•”νΈν™”λ” λ―Όκ°ν• λ°μ΄ν„°λ¥Ό λ³΄νΈν•λ” μ—­ν• μ„ ν•λ” κ°λ…μ…λ‹λ‹¤. β†’ νΉμ • μ‚¬λλ§ λ³Ό μ μμµλ‹λ‹¤.
> 

κ°κ°μ μ„λ… μ•κ³ λ¦¬μ¦μ„ μ•μ•„λ³΄κ² μµλ‹λ‹¤.

### HMAC

> HMACμ€ **λ€μΉ­ν‚¤** κΈ°λ°μ ν•΄μ‹± μ•κ³ λ¦¬μ¦μ…λ‹λ‹¤.

νΉμ • λΉ„λ°€ ν‚¤μ™€ ν•΄μ‹ ν•¨μλ¥Ό μ΄μ©ν•μ—¬ λ©”μ‹μ§€μ μΈμ¦ μ½”λ“λ¥Ό μƒμ„±ν•κ² λλΉλ‹¤.

μ΄ λ°©μ‹μ€ ν•λ‚μ ν‚¤λ§μ„ μ‚¬μ©ν•λ” λ€μΉ­ν‚¤ λ°©μ‹μ„ μ‚¬μ©ν•λ―€λ΅ ν•΄λ‹Ή μ„λ…μ κ²€μ¦ μ‹ κ°™μ€ ν‚¤λ΅ λ°μ΄ν„°κ°€ λ³€μ΅°λμ—λ”μ§€ μ—¬λ¶€μ™€ λ°μ‹ μμ μ‹ μ›μ„ ν™•μΈν•  μ μμµλ‹λ‹¤.
> 

### RSA

> RSAλ” **λΉ„λ€μΉ­ ν‚¤** λ°©μ‹μ μ•”νΈν™” μ•κ³ λ¦¬μ¦μ…λ‹λ‹¤.

ν•΄λ‹Ή λ°©μ‹μ€ λ³΄μ•μ΄ κ°•λ ¥ν•λ‹¤λ” νΉμ§•μ„ κ°€μ§€κ³  μμµλ‹λ‹¤. ν•μ§€λ§ HMACμ— λΉ„ν•΄ μ†λ„κ°€ λλ¦¬λ‹¤λ” λ‹¨μ μ΄ μμµλ‹λ‹¤. 

ν•΄λ‹Ή λ°©μ‹μ κ²½μ° **OAuth 2.0** λ° **OICD** μ—μ„ μ‚¬μ©λκ³  μμµλ‹λ‹¤.
> 

### ECDSA

> ECDSAλ” **λΉ„λ€μΉ­ ν‚¤** λ°©μ‹μ μ•”νΈν™” μ•κ³ λ¦¬μ¦ μ…λ‹λ‹¤.

RSAμ™€ κ°™μ΄ λΉ„λ€μΉ­ ν‚¤ λ°©μ‹μ„ μ‚¬μ©ν•λ‹¤λ” κ³µν†µμ μ΄ μ΅΄μ¬ν•μ§€λ§ RSAλ³΄λ‹¤ λ” μ‘μ€ ν‚¤ ν¬κΈ°λ΅ κ°™μ€ μμ¤€μ λ³΄μ•μ„ μ κ³µν•κ² λ©λ‹λ‹¤.

μ΄λ¥Ό ν†µν•΄ RSAλ³΄λ‹¤ λ” λΉ λ¥΄κ³  ν¨μ¨μ μ…λ‹λ‹¤.

μ΄ λ°©μ‹μ€ μ£Όλ΅ **λΈ”λ΅μ²΄μΈ** λ° **λ¨λ°”μΌ ν™κ²½**μ—μ„ μ‚¬μ©λκ³  μμµλ‹λ‹¤.
> 

μ΄λ ‡κ² μ„λ…μ‹ μ‚¬μ©λλ” μ•κ³ λ¦¬μ¦μ— λ€ν•΄μ„ μ•μ•„λ³΄μ•μµλ‹λ‹¤. λ‹¤μμΌλ΅λ” μ•”νΈν™”μ—μ„ μ‚¬μ©λλ” μ•κ³ λ¦¬μ¦μ— λ€ν•΄ μ•μ•„λ³΄κ² μµλ‹λ‹¤.

### AES

> AESλ” **λ€μΉ­ν‚¤ μ•”νΈν™”** λ°©μ‹μ„ μ‚¬μ©ν•λ” μ•”νΈν™” μ•κ³ λ¦¬μ¦μ…λ‹λ‹¤.

AESλ” μ†λ„κ°€ λ§¤μ° λΉ λ¥΄λ©°, κ°•λ ¥ν• λ³΄μ•μ„ μ κ³µν•μ—¬ ν„μ¬ λ§μ΄ μ‚¬μ©λλ” λ€μΉ­ μ•”νΈν™” λ°©μ‹μ…λ‹λ‹¤.
> 

### RSA-OAEP

> RSA-OAEPλ” **λΉ„λ€μΉ­ν‚¤ μ•”νΈν™”** λ°©μ‹μ„ μ‚¬μ©ν•λ” μ•”νΈν™” λ°©μ‹μ—μ„ **λ³΄μ•μ„ λ”μ± κ°•ν™”**ν•κΈ° μ„ν•΄ μ‚¬μ©λλ” **ν¨λ”© κΈ°λ²•**μ…λ‹λ‹¤.

RSA μμ²΄λ΅λ” μ·¨μ•½ν•  μ μκΈ° λ•λ¬Έμ—, OAEPλ¥Ό μ μ©ν•μ—¬ λ”μ± μ•μ „ν•κ² μ•”νΈν™”λ¥Ό μ§„ν–‰ν•κ² λ©λ‹λ‹¤.
> 

---

### μ„Έμ… κΈ°λ° μΈμ¦κ³Όμ λΉ„κµ

---

μ„Έμ…μ€ Stateful ν•κ³  ν† ν°μ€ Stateless ν•©λ‹λ‹¤.

μ΄κ² λ¬΄μ¨λ§μΌκΉμ”?

### μ„Έμ…

> λ§μ•½ μ„Έμ… λ°©μ‹μ„ μ‚¬μ©ν•λ‹¤λ©΄ μ„λ²„μ DB λλ” λ‚΄λ¶€ κ³µκ°„μ— μ„Έμ…μ„ μ €μ¥ν•΄λ†”μ•Ό ν•©λ‹λ‹¤.
λ”°λΌμ‚¬ μ„λ²„λ” μ–΄λ–¤ νΈμ¤νΈκ°€ μ—°κ²°μ΄ λμ–΄μλ”μ§€λ¥Ό κ³„μ†ν•΄μ„ μ μ§€λ¥Ό ν•΄μ•Όν•λ”λ°μ”. 

λ”°λΌμ„ μ„Έμ…λ°©μ‹μ€ **Stateful** ν•λ‹¤κ³  λ³Ό μ μμµλ‹λ‹¤.
> 

### ν† ν°

> λ‹¤λ§ ν† ν° λ°©μ‹μ„ μ‚¬μ©ν•κ² λλ‹¤λ©΄ κµ³μ΄ μ„λ²„μ— μ €μ¥ν•  ν•„μ”κ°€ μ—†μµλ‹λ‹¤.

μ„λ²„λ΅ μ”μ²­μ„ λ³΄λ‚Όλ• **μ”μ²­λ°μ΄ν„°μ™€ ν•¨κ» ν† ν°μ„ λ³΄λ‚΄** μμ‹ μ„ μΈμ¦ν•κ² λ©λ‹λ‹¤.
μ΄λ° λ°©μ‹μ—μ„ μ„λ²„λ” κµ³μ΄ μ”μ²­μ„ λ³΄λ‚Έ μ£Όμ²΄μ— λ€ν• μ •λ³΄λ¥Ό κ°€μ§€κ³  μμ„ ν•„μ”κ°€ μ—†μµλ‹λ‹¤.

κ·Έλ ‡κΈ° λ•λ¬Έμ— ν† ν° λ°©μ‹μ„ **Stateless** ν•λ‹¤κ³  λ³Ό μ μμµλ‹λ‹¤.
> 

### Access Token / Refresh Token

---

# OAuth 2.0

### OAuth 1.0κ³Όμ μ°¨μ΄μ 

### λ³΄μ• κ°•ν™” λ€μ±… (XSS, CSRF, ν† ν° νƒμ·¨ λ°©μ§€)

### μμ‹ μ§λ¬Έ

# HTTP μκ²©μ¦λ… ν—¤λ”κ°€ μ›Ή μ–΄ν”λ¦¬μΌ€μ΄μ… λ³΄μ•μ—μ„ μ–΄λ–¤ μ—­ν• μ„ ν•λ”μ§€ μ„¤λ…ν•΄μ£Όμ„Έμ”

# WWW-Authenticate / Authorization ν—¤λ”μ μ°¨μ΄μ μ— λ€ν•΄μ„ μ„¤λ…ν•΄μ£Όμ„Έμ”

# JWTκ°€ μ–΄λ–¤ κµ¬μ„± μ”μ†λ΅ μ΄λ£¨μ–΄μ Έ μμΌλ©°, κ° μ”μ†μ μ—­ν• μ€ λ¬΄μ—‡μΈμ§€ μ„¤λ…ν•΄μ£Όμ„Έμ”

# JWT κ²€μ¦μ‹ μ„λ²„μ—μ„ μν–‰ν•λ” μ£Όμ” μ μ°¨μ— λ€ν•΄μ„ μ„¤λ…ν•΄μ£Όμ„Έμ”

# Access Tokenκ³Ό Refresh Token λ‘ ν† ν°μ μ°¨μ΄μ™€ κ°κ°μ μ—­ν• , κ·Έλ¦¬κ³  ν† ν° κ°±μ‹  μ‹ κ³ λ ¤ν•΄μ•Ό ν•  μ‚¬ν•­μ— λ€ν•΄ μ„¤λ…ν•΄ μ£Όμ„Έμ”.

# μ™ HTTPSκ°€ ν† ν° κΈ°λ° μΈμ¦μ—μ„ ν•„μμ μΈμ§€ μ„¤λ…ν•΄μ£Όμ„Έμ”

# (μ„ νƒ) JWTλ‚ OAuthκΈ°λ° μΈμ¦μ—μ„ λ°μƒν•  μ μλ” λ³΄μ• μ·¨μ•½μ  / μ΄λ¥Ό λ³΄μ™„ν•κΈ° μ„ν• λ€μ±…μ—λ” μ–΄λ–¤ κ²ƒλ“¤μ΄ μλ”μ§€ μ„¤λ…ν•΄μ£Όμ„Έμ”
# νκ³ 
# π’ K (Keep) π’
- 
  
# π« P (Problem) π«
- 

# π«µ T (Try) π«µ
- 
